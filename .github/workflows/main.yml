name: CI Mentoria

# gatilhos
on:
 workflow_dispatch:


jobs:
 e2e: 
     # [config do so] (windows/linux/mac, chrome/firefox/edge, ...)
  runs-on: ubuntu-latest

     # [variaveis] (variáveis de ambiente, chaves de acesso a plataformas, etc.)
  env: 
   API_BASE_URL: 'http://localhost:3000'
   PORT: 4000

 # [acoes ou passos]  
  steps: 

   - name: Checkout do Repositório
     uses: actions/checkout@v4

   - name: Instalando as dependencias
     run: npm install

   - name: Iniciando o servidor da aplicação
     run: npm run server &

   - name: Iniciando o servidor de mocks
     run: npm run mock-server &

   - name: Iniciando o servidor da aplicação Cypress
     run: npx cypress run
